<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="${titulo}">Detalle del Cliente</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-50">
    <!-- Header -->
    <header
      class="bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg"
    >
      <div class="container mx-auto px-6 py-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-4">
            <i class="fas fa-user text-3xl"></i>
            <div>
              <h1 class="text-2xl font-bold" th:text="${titulo}">
                Detalle del Cliente
              </h1>
              <p class="text-blue-200" th:text="${subtitulo}">
                Información completa del cliente
              </p>
            </div>
          </div>
          <div class="flex items-center space-x-4">
            <a
              href="/clientes"
              class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition-colors"
            >
              <i class="fas fa-arrow-left mr-2"></i>Volver
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- navegacion -->
    <nav class="bg-white shadow-md">
      <div class="container mx-auto px-6 py-3">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-8">
            <a
              href="/"
              class="text-gray-600 hover:text-blue-600 transition-colors"
            >
              <i class="fas fa-home mr-2"></i>Inicio
            </a>
            <a
              href="/proveedores"
              class="text-gray-600 hover:text-blue-600 transition-colors"
            >
              <i class="fas fa-truck mr-2"></i>Proveedores
            </a>
            <a
              href="/clientes"
              class="text-blue-600 font-semibold border-b-2 border-blue-600 pb-2"
            >
              <i class="fas fa-users mr-2"></i>Clientes
            </a>
            <a
              href="/productos"
              class="text-gray-600 hover:text-blue-600 transition-colors"
            >
              <i class="fas fa-box mr-2"></i>Productos
            </a>
          </div>
        </div>
      </div>
    </nav>

    <main class="container mx-auto px-6 py-8">
      <!-- Mensajes -->
      <div
        th:if="${error}"
        class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6"
      >
        <i class="fas fa-exclamation-triangle mr-2"></i>
        <span th:text="${error}">Error</span>
      </div>

      <!-- Información del Cliente -->
      <div class="max-w-4xl mx-auto">
        <!-- Tarjeta Principal -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
          <div
            class="px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100"
          >
            <div class="flex items-center justify-between">
              <div class="flex items-center space-x-4">
                <div
                  class="h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center"
                >
                  <i class="fas fa-user text-3xl text-blue-600"></i>
                </div>
                <div>
                  <h2
                    class="text-2xl font-bold text-gray-900"
                    th:text="${cliente.nombreCompleto}"
                  >
                    Nombre del Cliente
                  </h2>
                  <p
                    class="text-gray-600"
                    th:text="${cliente.tipoClienteDescripcion}"
                  >
                    Tipo de Cliente
                  </p>
                </div>
              </div>
              <div class="flex items-center space-x-4">
                <span
                  th:class="${cliente.estado.name() == 'Activo' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}"
                  class="inline-flex px-3 py-1 text-sm font-semibold rounded-full"
                  th:text="${cliente.estadoDescripcion}"
                >
                  Estado
                </span>
                <a
                  th:href="@{/clientes/editar/{id}(id=${cliente.idCliente})}"
                  class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors"
                >
                  <i class="fas fa-edit mr-2"></i>Editar
                </a>
              </div>
            </div>
          </div>

          <!-- Información Detallada -->
          <div class="p-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              <!-- Información Personal -->
              <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">
                  <i class="fas fa-user-circle mr-2"></i>Información Personal
                </h3>
                <div class="space-y-3">
                  <div class="flex items-center">
                    <i class="fas fa-user text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">
                        Nombre Completo
                      </p>
                      <p
                        class="text-gray-900"
                        th:text="${cliente.nombreCompleto}"
                      >
                        -
                      </p>
                    </div>
                  </div>

                  <div
                    class="flex items-center"
                    th:if="${cliente.razonSocial != null && !cliente.razonSocial.isEmpty()}"
                  >
                    <i class="fas fa-building text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">
                        Razón Social
                      </p>
                      <p class="text-gray-900" th:text="${cliente.razonSocial}">
                        -
                      </p>
                    </div>
                  </div>

                  <div
                    class="flex items-center"
                    th:if="${cliente.dni != null && !cliente.dni.isEmpty()}"
                  >
                    <i class="fas fa-id-card text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">DNI</p>
                      <p class="text-gray-900" th:text="${cliente.dni}">-</p>
                    </div>
                  </div>

                  <div
                    class="flex items-center"
                    th:if="${cliente.ruc != null && !cliente.ruc.isEmpty()}"
                  >
                    <i class="fas fa-file-contract text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">RUC</p>
                      <p class="text-gray-900" th:text="${cliente.ruc}">-</p>
                    </div>
                  </div>

                  <div
                    class="flex items-center"
                    th:if="${cliente.direccion != null && !cliente.direccion.isEmpty()}"
                  >
                    <i class="fas fa-map-marker-alt text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">Dirección</p>
                      <p class="text-gray-900" th:text="${cliente.direccion}">
                        -
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Información de Contacto -->
              <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">
                  <i class="fas fa-address-book mr-2"></i>Información de
                  Contacto
                </h3>
                <div class="space-y-3">
                  <div class="flex items-center">
                    <i class="fas fa-envelope text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">Email</p>
                      <p class="text-gray-900" th:text="${cliente.email}">-</p>
                    </div>
                  </div>

                  <div
                    class="flex items-center"
                    th:if="${cliente.telefono != null && !cliente.telefono.isEmpty()}"
                  >
                    <i class="fas fa-phone text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">Teléfono</p>
                      <p class="text-gray-900" th:text="${cliente.telefono}">
                        -
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Información del Sistema -->
                <h3 class="text-lg font-semibold text-gray-900 mb-4 mt-8">
                  <i class="fas fa-cog mr-2"></i>Información del Sistema
                </h3>
                <div class="space-y-3">
                  <div class="flex items-center">
                    <i class="fas fa-calendar-plus text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">
                        Fecha de Registro
                      </p>
                      <p
                        class="text-gray-900"
                        th:text="${#temporals.format(cliente.fechaCreacion, 'dd/MM/yyyy HH:mm')}"
                      >
                        -
                      </p>
                    </div>
                  </div>

                  <div
                    class="flex items-center"
                    th:if="${cliente.fechaModificacion != null}"
                  >
                    <i class="fas fa-calendar-edit text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">
                        Última Modificación
                      </p>
                      <p
                        class="text-gray-900"
                        th:text="${#temporals.format(cliente.fechaModificacion, 'dd/MM/yyyy HH:mm')}"
                      >
                        -
                      </p>
                    </div>
                  </div>

                  <div class="flex items-center">
                    <i class="fas fa-tag text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">
                        Tipo de Cliente
                      </p>
                      <span
                        th:class="${cliente.tipoCliente.name() == 'Persona_Natural' ? 'bg-purple-100 text-purple-800' : 'bg-orange-100 text-orange-800'}"
                        class="inline-flex px-2 py-1 text-xs font-semibold rounded-full"
                        th:text="${cliente.tipoClienteDescripcion}"
                      >
                        Tipo
                      </span>
                    </div>
                  </div>

                  <div class="flex items-center">
                    <i class="fas fa-toggle-on text-gray-400 w-5 mr-3"></i>
                    <div>
                      <p class="text-sm font-medium text-gray-500">Estado</p>
                      <span
                        th:class="${cliente.estado.name() == 'Activo' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}"
                        class="inline-flex px-2 py-1 text-xs font-semibold rounded-full"
                        th:text="${cliente.estadoDescripcion}"
                      >
                        Estado
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Estadísticas del Cliente -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
          <div class="bg-white rounded-lg shadow-md p-6">
            <div class="flex items-center">
              <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                <i class="fas fa-shopping-cart text-2xl"></i>
              </div>
              <div class="ml-4">
                <p class="text-sm font-medium text-gray-600">Total Compras</p>
                <p
                  class="text-2xl font-semibold text-gray-900"
                  th:text="${cliente.totalCompras != null ? cliente.totalCompras : '0'}"
                >
                  0
                </p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-md p-6">
            <div class="flex items-center">
              <div class="p-3 rounded-full bg-green-100 text-green-600">
                <i class="fas fa-calendar-check text-2xl"></i>
              </div>
              <div class="ml-4">
                <p class="text-sm font-medium text-gray-600">Última Compra</p>
                <p
                  class="text-lg font-semibold text-gray-900"
                  th:text="${cliente.ultimaCompra != null ? cliente.ultimaCompra : 'Sin compras'}"
                >
                  Sin compras
                </p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-lg shadow-md p-6">
            <div class="flex items-center">
              <div class="p-3 rounded-full bg-purple-100 text-purple-600">
                <i class="fas fa-clock text-2xl"></i>
              </div>
              <div class="ml-4">
                <p class="text-sm font-medium text-gray-600">Cliente desde</p>
                <p
                  class="text-lg font-semibold text-gray-900"
                  th:text="${#temporals.format(cliente.fechaCreacion, 'MMM yyyy')}"
                >
                  Fecha
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Acciones -->
        <div class="bg-white rounded-lg shadow-md p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-4">
            <i class="fas fa-tools mr-2"></i>Acciones
          </h3>
          <div class="flex flex-wrap gap-4">
            <a
              th:href="@{/clientes/editar/{id}(id=${cliente.idCliente})}"
              class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors"
            >
              <i class="fas fa-edit mr-2"></i>Editar Cliente
            </a>

            <form
              th:action="@{/clientes/{id}/cambiar-estado(id=${cliente.idCliente})}"
              method="post"
              class="inline"
              th:if="${cliente.estado.name() == 'Activo'}"
            >
              <button
                type="submit"
                name="nuevoEstado"
                th:value="Inactivo"
                class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md transition-colors"
                onclick="return confirm('¿Estás seguro de desactivar este cliente?')"
              >
                <i class="fas fa-user-times mr-2"></i>Desactivar
              </button>
            </form>

            <form
              th:action="@{/clientes/{id}/cambiar-estado(id=${cliente.idCliente})}"
              method="post"
              class="inline"
              th:if="${cliente.estado.name() == 'Inactivo'}"
            >
              <button
                type="submit"
                name="nuevoEstado"
                th:value="Activo"
                class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors"
                onclick="return confirm('¿Estás seguro de activar este cliente?')"
              >
                <i class="fas fa-user-check mr-2"></i>Activar
              </button>
            </form>

            <a
              href="/clientes"
              class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md transition-colors"
            >
              <i class="fas fa-arrow-left mr-2"></i>Volver a la Lista
            </a>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
      <div class="container mx-auto px-6 text-center">
        <p>
          &copy; 2024 Sistema de Gestión de Inventarios - J&C Diversity S.A.C.
        </p>
      </div>
    </footer>
  </body>
</html>
