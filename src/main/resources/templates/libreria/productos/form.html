<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Producto - Diversity</title>
  </head>
  <body>
    <div th:replace="~{layout :: layout(~{::section})}">
      <section>
        <!-- Contenedor principal -->
        <div
          class="min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50"
        >
          <div class="absolute inset-0 overflow-hidden">
            <div
              class="absolute -top-[40%] -right-[10%] w-[800px] h-[800px] opacity-[0.15]"
            >
              <div
                class="absolute inset-0 bg-gradient-to-br from-gray-900 to-gray-800 rounded-full blur-3xl"
              ></div>
            </div>
            <div
              class="absolute -bottom-[30%] -left-[10%] w-[600px] h-[600px] opacity-[0.07]"
            >
              <div
                class="absolute inset-0 bg-gradient-to-tr from-gray-900 to-gray-800 rounded-full blur-3xl"
              ></div>
            </div>
          </div>

          <div class="relative max-w-4xl mx-auto px-4 py-16">
            <!-- Panel principal -->
            <div
              class="relative bg-white/70 backdrop-blur-xl rounded-2xl shadow-xl ring-1 ring-gray-900/5"
            >
              <div
                class="absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-gray-900 to-gray-700 rounded-l-2xl"
              ></div>
              <div class="p-8 sm:p-10">
                <!-- mensaje de alerta -->
                <div th:if="${mensaje != null}" id="mensajeAlert" class="mb-6">
                  <div
                    th:class="${tipoMensaje == 'error' ? 'rounded-lg bg-red-50 p-4' : 'rounded-lg bg-green-50 p-4'}"
                  >
                    <div class="flex">
                      <div class="flex-shrink-0">
                        <svg
                          th:if="${tipoMensaje != 'error'}"
                          class="h-5 w-5 text-green-400"
                          viewBox="0 0 20 20"
                          fill="currentColor"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                            clip-rule="evenodd"
                          />
                        </svg>
                        <svg
                          th:if="${tipoMensaje == 'error'}"
                          class="h-5 w-5 text-red-400"
                          viewBox="0 0 20 20"
                          fill="currentColor"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
                            clip-rule="evenodd"
                          />
                        </svg>
                      </div>
                      <div class="ml-3 flex-1 min-w-0">
                        <p
                          th:class="${tipoMensaje == 'error' ? 'text-sm font-medium text-red-800 truncate' : 'text-sm font-medium text-green-800 truncate'}"
                          th:text="${mensaje}"
                        ></p>
                      </div>
                      <div class="ml-auto pl-3">
                        <div class="-mx-1.5 -my-1.5">
                          <button
                            type="button"
                            onclick="hideMessage()"
                            th:class="${tipoMensaje == 'error' ? 'inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100' : 'inline-flex rounded-md bg-green-50 p-1.5 text-green-500 hover:bg-green-100'}"
                          >
                            <span class="sr-only">Cerrar</span>
                            <svg
                              class="h-5 w-5"
                              viewBox="0 0 20 20"
                              fill="currentColor"
                            >
                              <path
                                fill-rule="evenodd"
                                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                clip-rule="evenodd"
                              />
                            </svg>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="relative mb-12">
                  <div class="flex items-start gap-6 mb-8">
                    <div class="relative">
                      <div
                        class="absolute -inset-1.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl blur opacity-20"
                      ></div>
                      <div
                        class="relative flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-gray-900 to-gray-800 shadow-lg"
                      >
                        <svg
                          class="w-8 h-8 text-white"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="1.5"
                            d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                          />
                        </svg>
                      </div>
                    </div>
                    <div class="flex-1">
                      <div class="flex items-center gap-3 mb-2">
                        <h2
                          class="text-3xl font-medium text-gray-900"
                          th:text="${producto.idProducto == null ? 'Nuevo Producto' : 'Editar Producto'}"
                        ></h2>
                        <span
                          class="inline-flex items-center px-3 py-1 rounded-full bg-gray-900/5 text-xs font-medium text-gray-900"
                        >
                          Gestión de Inventario
                        </span>
                      </div>
                      <p class="text-gray-500">
                        Crea y gestiona tus productos de manera eficiente
                      </p>
                    </div>
                  </div>
                </div>
                <form
                  th:action="@{/libreria/productos/guardar}"
                  th:object="${producto}"
                  method="post"
                  enctype="multipart/form-data"
                  class="space-y-10"
                >
                  <input type="hidden" th:field="*{idProducto}" />
                  <input type="hidden" th:field="*{urlImagen}" />
                  <input type="hidden" th:field="*{publicId}" />

                  <!-- Código y Nombre en dos columnas -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Código de Producto -->
                    <div class="relative">
                      <div
                        class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                      ></div>
                      <div class="relative">
                        <label
                          for="codigoProducto"
                          class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                        >
                          <svg
                            class="w-4 h-4"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
                            />
                          </svg>
                          Código del Producto
                        </label>
                        <div class="relative group">
                          <div
                            class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                          ></div>
                          <div class="relative">
                            <input
                              type="text"
                              th:field="*{codigoProducto}"
                              class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                              required
                            />
                          </div>
                        </div>
                        <div
                          class="mt-2 text-sm text-red-600 flex items-center gap-1.5"
                          th:if="${#fields.hasErrors('codigoProducto')}"
                        >
                          <span th:errors="*{codigoProducto}"></span>
                        </div>
                      </div>
                    </div>

                    <!-- Nombre -->
                    <div class="relative">
                      <div
                        class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                      ></div>
                      <div class="relative">
                        <label
                          for="nombreProducto"
                          class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                        >
                          <svg
                            class="w-4 h-4"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                            />
                          </svg>
                          Nombre del Producto
                        </label>
                        <div class="relative group">
                          <div
                            class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                          ></div>
                          <div class="relative">
                            <input
                              type="text"
                              th:field="*{nombreProducto}"
                              class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                              required
                              maxlength="70"
                            />
                          </div>
                        </div>
                        <div
                          class="mt-2 text-sm text-red-600 flex items-center gap-1.5"
                          th:if="${#fields.hasErrors('nombreProducto')}"
                        >
                          <span th:errors="*{nombreProducto}"></span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Descripción -->
                  <div class="relative">
                    <div
                      class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                    ></div>
                    <div class="relative">
                      <label
                        for="descripcion"
                        class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                      >
                        <svg
                          class="w-4 h-4"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16"
                          />
                        </svg>
                        Descripción
                      </label>
                      <!-- Textarea para descripción -->
                      <div class="relative group">
                        <div
                          class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                        ></div>
                        <div class="relative">
                          <textarea
                            th:field="*{descripcion}"
                            rows="3"
                            class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                            required
                            maxlength="200"
                          ></textarea>
                        </div>
                      </div>
                      <div
                        class="mt-2 text-sm text-red-600 flex items-center gap-1.5"
                        th:if="${#fields.hasErrors('descripcion')}"
                      >
                        <span th:errors="*{descripcion}"></span>
                      </div>
                    </div>
                  </div>

                  <!-- Categoría -->
                  <div class="relative">
                    <div
                      class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                    ></div>
                    <div class="relative">
                      <label
                        for="categoria"
                        class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                      >
                        <svg
                          class="w-4 h-4"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
                          />
                        </svg>
                        Categoría
                      </label>
                      <!-- Select para categoría -->
                      <div class="relative group">
                        <div
                          class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                        ></div>
                        <div class="relative">
                          <select
                            th:field="*{categoria.idCategoria}"
                            class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                            required
                          >
                            <option value="">Seleccione una categoría</option>
                            <option
                              th:each="cat : ${categorias}"
                              th:value="${cat.idCategoria}"
                              th:text="${cat.nombreCategoria}"
                            ></option>
                          </select>
                        </div>
                      </div>
                      <div
                        class="mt-2 text-sm text-red-600 flex items-center gap-1.5"
                        th:if="${#fields.hasErrors('categoria')}"
                      >
                        <span th:errors="*{categoria}"></span>
                      </div>
                    </div>
                  </div>

                  <!-- Precios y Stock -->
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Precio de Compra -->
                    <div class="relative">
                      <div
                        class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                      ></div>
                      <div class="relative">
                        <label
                          for="precioCompra"
                          class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                        >
                          <svg
                            class="w-4 h-4"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                            />
                          </svg>
                          Precio de Compra
                        </label>
                        <!-- Input para precio de compra -->
                        <div class="relative group">
                          <div
                            class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                          ></div>
                          <div class="relative">
                            <input
                              type="number"
                              th:field="*{precioCompra}"
                              step="0.01"
                              class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                              required
                            />
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Precio de Venta -->
                    <div class="relative">
                      <div
                        class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                      ></div>
                      <div class="relative">
                        <label
                          for="precioVenta"
                          class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                        >
                          <svg
                            class="w-4 h-4"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                            />
                          </svg>
                          Precio de Venta
                        </label>
                        <!-- Input para precio de venta -->
                        <div class="relative group">
                          <div
                            class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                          ></div>
                          <div class="relative">
                            <input
                              type="number"
                              th:field="*{precioVenta}"
                              step="0.01"
                              class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                              required
                            />
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Stock Actual -->
                    <div class="relative">
                      <div
                        class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                      ></div>
                      <div class="relative">
                        <label
                          for="stockActual"
                          class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                        >
                          <svg
                            class="w-4 h-4"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                            />
                          </svg>
                          Stock Actual
                        </label>
                        <!-- Input para stock actual -->
                        <div class="relative group">
                          <div
                            class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                          ></div>
                          <div class="relative">
                            <input
                              type="number"
                              th:field="*{stockActual}"
                              class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                              required
                            />
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Stock Mínimo -->
                    <div class="relative">
                      <div
                        class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                      ></div>
                      <div class="relative">
                        <label
                          for="stockMinimo"
                          class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                        >
                          <svg
                            class="w-4 h-4"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                            />
                          </svg>
                          Stock Mínimo
                        </label>
                        <!-- Input para stock mínimo -->
                        <div class="relative group">
                          <div
                            class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                          ></div>
                          <div class="relative">
                            <input
                              type="number"
                              th:field="*{stockMinimo}"
                              class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                              required
                            />
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Stock Máximo -->
                    <div class="relative">
                      <div
                        class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                      ></div>
                      <div class="relative">
                        <label
                          for="stockMaximo"
                          class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                        >
                          <svg
                            class="w-4 h-4"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                            />
                          </svg>
                          Stock Máximo
                        </label>
                        <!-- Input para stock máximo -->
                        <div class="relative group">
                          <div
                            class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                          ></div>
                          <div class="relative">
                            <input
                              type="number"
                              th:field="*{stockMaximo}"
                              class="block w-full rounded-lg border-gray-300 bg-white/50 py-2 px-3 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm"
                              required
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Imagen -->
                  <div class="relative">
                    <div
                      class="absolute -inset-1.5 bg-gradient-to-r from-gray-100 to-gray-50 rounded-xl blur-lg opacity-75"
                    ></div>
                    <div class="relative">
                      <label
                        for="imagen"
                        class="flex items-center gap-2 text-sm font-medium text-gray-900 mb-3"
                      >
                        <svg
                          class="w-4 h-4"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                          />
                        </svg>
                        Imagen del Producto
                      </label>
                      <!-- Input para imagen -->
                      <div class="relative group">
                        <div
                          class="absolute -inset-0.5 bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg opacity-0 group-hover:opacity-10 transition duration-300"
                        ></div>
                        <div class="relative">
                          <input
                            type="file"
                            name="imagen"
                            id="imagen"
                            accept="image/*"
                            class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-gray-900 file:text-white hover:file:bg-gray-700"
                          />
                        </div>
                      </div>
                      <!-- Vista previa de imagen -->
                      <div class="mt-4" th:if="*{urlImagen != null}">
                        <img
                          th:src="*{urlImagen}"
                          alt="Vista previa"
                          id="vistaPreviaImagen"
                          class="max-w-xs rounded-lg shadow-lg"
                        />
                      </div>
                    </div>
                  </div>

                  <!-- Botones -->
                  <div class="relative pt-6">
                    <div
                      class="absolute inset-0 bg-gradient-to-b from-transparent via-gray-50/50 to-gray-50/80 backdrop-blur-sm"
                    ></div>
                    <div class="relative flex items-center justify-between">
                      <a
                        th:href="@{/libreria/productos}"
                        class="inline-flex items-center justify-center px-4 py-2.5 text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-all duration-200"
                      >
                        <svg
                          class="w-4 h-4 mr-2"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18"
                          />
                        </svg>
                        Volver
                      </a>
                      <div class="flex items-center gap-3">
                        <!-- Botón de guardar -->
                        <button
                          type="submit"
                          class="inline-flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-lg shadow-sm hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200"
                        >
                          <svg
                            class="w-4 h-4 mr-2"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M5 13l4 4L19 7"
                            />
                          </svg>
                          Guardar
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>

            <!-- Tarjetaa informativa flotante -->
            <div
              class="absolute top-5 right-4 max-w-xs bg-white/80 backdrop-blur-xl rounded-xl shadow-lg ring-1 ring-gray-900/5 px-4 py-3"
            >
              <div class="flex items-center gap-3">
                <div class="flex-shrink-0">
                  <span
                    class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-900/5"
                  >
                    <svg
                      class="w-4 h-4 text-gray-900"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="1.5"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                      />
                    </svg>
                  </span>
                </div>
                <div>
                  <p class="text-xs font-medium text-gray-900">
                    Tip de Producto
                  </p>
                  <p class="text-xs text-gray-500">
                    Añade imágenes de alta calidad para mejor presentación
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const inputImagen = document.getElementById("imagen");
        const vistaPrevia = document.getElementById("vistaPreviaImagen");

        function mostrarVistaPrevia(file) {
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              vistaPrevia.src = e.target.result;
              vistaPrevia.style.display = "block";
            };
            reader.readAsDataURL(file);
          }
        }

        inputImagen.addEventListener("change", function (e) {
          const file = e.target.files[0];
          mostrarVistaPrevia(file);
        });

        inputImagen.addEventListener("drop", function (e) {
          e.preventDefault();
          e.stopPropagation();

          const file = e.dataTransfer.files[0];
          if (file && file.type.startsWith("image/")) {
            inputImagen.files = e.dataTransfer.files;
            mostrarVistaPrevia(file);
          }
        });

        inputImagen.addEventListener("dragover", function (e) {
          e.preventDefault();
          e.stopPropagation();
        });

        inputImagen.addEventListener("dragenter", function (e) {
          e.preventDefault();
          e.stopPropagation();
        });
      });
      // Función para manejar los mensajes
      document.addEventListener("DOMContentLoaded", function () {
        const mensajeAlert = document.getElementById("mensajeAlert");
        if (mensajeAlert) {
          // Añadir transition al cargar
          mensajeAlert.style.transition =
            "opacity 0.5s ease-out, transform 0.5s ease-out";

          // Mostrar con animación
          setTimeout(() => {
            mensajeAlert.style.opacity = "1";
            mensajeAlert.style.transform = "translateY(0)";
          }, 100);

          // Ocultar después de 5 segundos
          setTimeout(function () {
            hideMessage();
          }, 5000);
        }
      });

      // Función para ocultar el mensaje con animación
      function hideMessage() {
        const mensajeAlert = document.getElementById("mensajeAlert");
        if (mensajeAlert) {
          mensajeAlert.style.opacity = "0";
          mensajeAlert.style.transform = "translateY(-10px)";
          setTimeout(function () {
            mensajeAlert.remove(); // Eliminar el elemento completamente
          }, 500);
        }
      }
    </script>
  </body>
</html>
