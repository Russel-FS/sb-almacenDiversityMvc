<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Listado de Detalles de Entrada</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen">

    <!-- Navbar -->
    <nav class="bg-blue-700 p-4 shadow text-white">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-xl font-bold">Detalles de Entrada</h1>
            <a th:href="@{/formregistrarDetalle}" 
               class="text-white border border-white px-4 py-2 rounded hover:bg-white hover:text-blue-700 transition">
               Registrar Detalle
            </a>
        </div>
    </nav>

    <!-- Tabla de detalles -->
    <div class="container mx-auto mt-10 max-w-6xl bg-white p-8 rounded shadow">
        <h2 class="text-2xl font-bold text-center text-gray-700 mb-6">Listado de Detalles</h2>

        <table class="w-full table-auto border-collapse">
            <thead>
                <tr class="bg-gray-200 text-left text-gray-700">
                    <th class="px-4 py-2">ID</th>
                    <th class="px-4 py-2">Fecha de Entrada</th>
                    <th class="px-4 py-2">Producto</th>
                    <th class="px-4 py-2">Cantidad</th>
                    <th class="px-4 py-2">Subtotal (S/)</th>
                    <th class="px-4 py-2 text-center">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="detalle : ${listDetalles}" class="border-t hover:bg-gray-50">
                    <td class="px-4 py-2" th:text="${detalle.id}">1</td>
                    <td class="px-4 py-2" th:text="${#temporals.format(detalle.entrada.fechaEntrada, 'dd/MM/yyyy HH:mm')}">Fecha Entrada</td>                    <td class="px-4 py-2" th:text="${detalle.idProducto}">ABC123</td>
                    <td class="px-4 py-2" th:text="${detalle.cantidad}">10</td>
                    <td class="px-4 py-2" th:text="${detalle.subtotal}">100.00</td>
                    <td class="px-4 py-2 text-center">
   
                       <a th:href="@{/formactualizarDetalle/{id}(id=${detalle.id})}"
                           class="inline-flex items-center text-white bg-blue-600 border border-blue-600 px-3 py-1 rounded">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                   d="M15.232 5.232l3.536 3.536M9 11l6-6 3 3-6 6H9v-3z"/>
                         </svg>
                         Editar
                        </a>

    
                        <a th:href="@{/deleteDetalle/{id}(id=${detalle.id})}"
                           onclick="return confirm('¿Estás seguro de eliminar este detalle?')"
                             class="inline-flex items-center text-white bg-red-600 border border-red-600 px-3 py-1 rounded ml-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                       d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                            Eliminar
                        </a>
                   </td>


            </tbody>
        </table>
    </div>

</body>
</html>
